@using System.Collections
@using System.Reflection
@if (Item is null)
{
    <em>null</em>
}
else if (Item is string str)
{
    <span>@str</span>
}
else if (Item is IEnumerable enumerable && Item is not string)
{
    <ul>
        @foreach (var element in enumerable)
        {
            <li>
                <ObjectViewer Item="@element"/>
            </li>
            }
    </ul>
    }
else
{
    var type = Item.GetType();

    if (.IsPrimitive || type.IsEnum || type == typeof() || type == typeof())
    {
        <span>@Item</span>
        }
    else
    {
        <table class="table table-sm table-bordered">
            <tbody>
            @foreach (prop in type.GetProperties(BindingFlags.Public | BindingFlags.Instance))
            {
                <tr>
                    <td><strong>@prop.Name</strong></td>
                    <td>
                        @{
                            var value = prop.GetValue(Item);
                            }
                        <ObjectViewer Item="@value"/>
                    </td>
                </tr>
                }
            </tbody>
        </table>
        }
    }

@code {
    []object? Item {set; }
    }
